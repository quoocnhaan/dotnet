
@model WebApp.Models.Product

@{
    ViewData["Title"] = "Product Partial View";
}

<div class="col-lg-4 col-md-6">
    <div class="single-product">
        <div style="height: 320px;" class="product-img">
            <img style="object-fit: cover; height: 100%;" class="card-img"
                 src="@Url.Content("~/" + Model.ImageUrl)"
                 alt="" />
            <div class="p_icon">
                <a asp-controller="Product"
                   asp-action="Detail"
                   asp-route-id="@Model.Id">
                    <i class="ti-eye"></i>
                </a>
                <a href="#">
                    <i class="ti-heart"></i>
                </a>
                @if (Model.Quantity > 0)
                {
                    <a asp-controller="Cart" asp-action="Add" asp-route-productId="@Model.Id" asp-route-returnUrl="@Context.Request.Path" asp-route-queryString="@Context.Request.QueryString">
                        <i class="ti-shopping-cart"></i>
                    </a>
                }
            </div>
        </div>
        <div class="product-btm">
            <a href="#" class="d-block">
                <h4>@Model.Name</h4>
                @if(Model.Quantity <= 0)
                {
                    <span class="badge badge-danger">Out of Stock</span>
                }
            </a>
            <div class="mt-3">
                @if (Model.Discount > 0)
                {
                    <span class="mr-4">@Model.GetPriceAfterDiscount().ToString("C", System.Globalization.CultureInfo.CurrentCulture)</span>
                    <del>$@Model.Price</del>
                }
                else
                {
                    <span class="mr-4">$@Model.Price</span>
                }
            </div>
        </div>
    </div>
</div>
